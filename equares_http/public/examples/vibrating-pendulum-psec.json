{"name":"vibrating-pendulum-psec","description":"Vibrating pendulum, Poincare map","info":"# Poincare map for pendulum on a vibrating support\n\nGenerates Poincare map for pendulum on a support that oscillates in the vertical direction (see ?[VibratingPendulum](/doc#box/VibratingPendulum)).\n\nThe mapping is done by simply selecting trajectory points separated by period of excitation oscillations.\n\nThe output is the projection of phase trajectory onto plane (q, dq).\n\nNotice also the use of expressions in place of parameter values. These expressions can contain variables declared in the 'script' property of the simulation.","keywords":["poincare map","vibrating pendulum","example"],"script":"var\n    l = 1,\n    g = 9.8,\n    a = 0.07,\n    omega = Math.sqrt(g/l)*1.95,\n    nStepsPerPeriod = 1000,\n    nPeriods = 100000,\n    D2R = Math.PI/180","public":true,"definition":"{\"boxes\":[{\"name\":\"odeParam\",\"type\":\"Param\",\"props\":{\"data\":{\"value\":{\"l\":\"l\",\"g\":\"g\",\"a\":\"a\",\"omega\":\"omega\"}}},\"status\":{\"level\":\"ok\",\"text\":\"Ok\"},\"x\":111.671875,\"y\":94,\"ports\":[{\"pos\":3.5}]},{\"name\":\"solverParam\",\"type\":\"Param\",\"props\":{\"data\":{\"value\":{\"h\":\"2*Math.PI/(omega*nStepsPerPeriod)\",\"n\":0,\"nout\":\"nStepsPerPeriod\"}}},\"status\":{\"level\":\"ok\",\"text\":\"Ok\"},\"x\":259.671875,\"y\":95,\"ports\":[{\"pos\":3.5}]},{\"name\":\"initState\",\"type\":\"Param\",\"props\":{\"data\":{\"value\":{\"q\":\"1*D2R\",\"dq\":0,\"t\":0}}},\"status\":{\"level\":\"ok\",\"text\":\"Ok\"},\"x\":423.671875,\"y\":96,\"ports\":[{\"pos\":3.5}]},{\"name\":\"ode\",\"type\":\"VibratingPendulum\",\"props\":{},\"status\":{\"level\":\"ok\",\"text\":\"Ok\"},\"x\":134.671875,\"y\":189,\"ports\":[{\"pos\":1.5},{\"pos\":0.7},{\"pos\":0.3}]},{\"name\":\"solver\",\"type\":\"Rk4\",\"props\":{},\"status\":{\"level\":\"ok\",\"text\":\"Ok\"},\"x\":347.671875,\"y\":188,\"ports\":[{\"pos\":1.7},{\"pos\":1.3},{\"pos\":2.7},{\"pos\":0.5},{\"pos\":3.7},{\"pos\":2.3},{\"pos\":3.3}]},{\"name\":\"canvas\",\"type\":\"Canvas\",\"props\":{\"param\":{\"value\":{\"x\":{\"vmin\":\"-1.570796327\",\"vmax\":\"1.570796327\",\"resolution\":500},\"y\":{\"vmin\":\"-6.283185307\",\"vmax\":\"5.654866776\",\"resolution\":500}}},\"refreshInterval\":{\"value\":1000},\"timeCheckCount\":{\"value\":100},\"clearOnRestart\":{\"value\":false},\"withInputValue\":{\"value\":false}},\"status\":{\"level\":\"ok\",\"text\":\"Ok\"},\"x\":345.671875,\"y\":398,\"ports\":[{\"pos\":1.3},{\"pos\":1.7},{\"pos\":2.5},{\"pos\":3.5},{\"pos\":3.5}]},{\"name\":\"bitmap\",\"type\":\"Bitmap\",\"props\":{\"fileName\":{\"value\":\"result.png\"},\"valueRange\":{\"value\":{\"vmin\":0,\"vmax\":1}},\"colorMap\":{\"value\":[{\"pos\":0,\"color\":16777215},{\"pos\":1,\"color\":0}]}},\"status\":{\"level\":\"ok\",\"text\":\"Ok\"},\"x\":346.671875,\"y\":470,\"ports\":[{\"pos\":1.5}]},{\"name\":\"projection\",\"type\":\"Projection\",\"props\":{\"indices\":{\"value\":[0,1]}},\"status\":{\"level\":\"ok\",\"text\":\"Ok\"},\"x\":393.671875,\"y\":298,\"ports\":[{\"pos\":1.5},{\"pos\":3.5}]},{\"name\":\"counterParam\",\"type\":\"Param\",\"props\":{\"data\":{\"value\":{\"count\":10000}}},\"status\":{\"level\":\"ok\",\"text\":\"Ok\"},\"x\":618.65625,\"y\":304,\"ports\":[{\"pos\":3.5}]},{\"name\":\"counter\",\"type\":\"CountedFilter\",\"props\":{},\"status\":{\"level\":\"ok\",\"text\":\"Ok\"},\"x\":549.65625,\"y\":359,\"ports\":[{\"pos\":0.5},{\"pos\":2.5},{\"pos\":1.5}]}],\"links\":[{\"source\":{\"box\":\"solverParam\",\"port\":\"output\"},\"target\":{\"box\":\"solver\",\"port\":\"parameters\"}},{\"source\":{\"box\":\"solver\",\"port\":\"initState\"},\"target\":{\"box\":\"initState\",\"port\":\"output\"}},{\"source\":{\"box\":\"counter\",\"port\":\"input\"},\"target\":{\"box\":\"projection\",\"port\":\"output\"}},{\"source\":{\"box\":\"solver\",\"port\":\"stop\"},\"target\":{\"box\":\"counter\",\"port\":\"output\"}},{\"source\":{\"box\":\"counterParam\",\"port\":\"output\"},\"target\":{\"box\":\"counter\",\"port\":\"count\"}},{\"source\":{\"box\":\"ode\",\"port\":\"parameters\"},\"target\":{\"box\":\"odeParam\",\"port\":\"output\"}},{\"source\":{\"box\":\"ode\",\"port\":\"state\"},\"target\":{\"box\":\"solver\",\"port\":\"rhsState\"}},{\"source\":{\"box\":\"ode\",\"port\":\"oderhs\"},\"target\":{\"box\":\"solver\",\"port\":\"rhs\"}},{\"source\":{\"box\":\"solver\",\"port\":\"nextState\"},\"target\":{\"box\":\"projection\",\"port\":\"input\"}},{\"source\":{\"box\":\"canvas\",\"port\":\"input\"},\"target\":{\"box\":\"projection\",\"port\":\"output\"}},{\"source\":{\"box\":\"canvas\",\"port\":\"flush\"},\"target\":{\"box\":\"solver\",\"port\":\"finish\"}},{\"source\":{\"box\":\"canvas\",\"port\":\"output\"},\"target\":{\"box\":\"bitmap\",\"port\":\"input\"}}]}"}