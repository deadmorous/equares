{"name":"mandelbrot","description":"Mandelbrot set","info":"# Mandelbrot set\nThe Mandelbrot set is the set of points $c$ on complex plane for which the sequence (formula similar to the =[logistic mapping](/editor?sim=logistic-mapping-chaos))\n$$\nz_{n+1} = c-z_n^2, \\quad n=1,2,\\ldots\n$$\nis limited for $z_0=0$.\n\nThe simulation scheme contains an ?[FDE iterator](/doc#box/FdeIterator) that performs up 100 iterations for the initial point $z_0=0$ to determine if the sequence $z_n$ is limited or not. See =[this example](/editor?sim=mandelbrot-enhanced) for more advanced simulation scheme allowing to perform less iterations.\n\nUser can zoom image by rotating mouse wheel and pan it by dragging with left mouse button pressed.","keywords":["fractal"],"script":"","public":true,"definition":"{\"boxes\":[{\"name\":\"testFde\",\"type\":\"CxxFde\",\"props\":{\"src\":{\"value\":\"struct logistics {\\n    int paramCount() const {\\n        return 2;       // cx,cy\\n    }\\n    const char *paramNames() const {\\n        return \\\"cx,cy\\\"; // Can also return empty string or null ptr\\n    }\\n    int varCount() const {\\n        return 2;       // x,y\\n    }\\n    const char *varNames() const {\\n        return \\\"x,y\\\";   // Can also return empty string or null ptr\\n    }\\n\\n    // Auxiliary parameters\\n    double cx, cy;\\n    void prepare(const double *param) {\\n        cx = param[0];\\n        cy = param[1];\\n    }\\n\\n    void nextState(double *out, const double *param, const double *state) const {\\n        double x = state[0], y = state[1];\\n        out[0] = cx - x*x + y*y;\\n        out[1] = cy - 2*x*y;\\n    }\\n};\"},\"srcExample\":{\"value\":\"struct logistics {\\n    int paramCount() const {\\n        return 1;       // c\\n    }\\n    const char *paramNames() const {\\n        return \\\"c\\\";     // Can also return empty string or null ptr\\n    }\\n    int varCount() const {\\n        return 1;       // x\\n    }\\n    const char *varNames() const {\\n        return \\\"x\\\";     // Can also return empty string or null ptr\\n    }\\n\\n    // Auxiliary parameters\\n    double c;\\n    void prepare(const double *param) {\\n        c = param[0];\\n    }\\n\\n    void nextState(double *out, const double *param, const double *state) const {\\n        out[0] = c - state[0]*state[0];\\n    }\\n};\\n\"},\"useQmake\":{\"value\":true}},\"status\":{\"level\":\"ok\",\"text\":\"Ok\"},\"x\":179,\"y\":259,\"ports\":[{\"pos\":1.664519123283296},{\"pos\":0.7},{\"pos\":0.3}]},{\"name\":\"sdeParam\",\"type\":\"Param\",\"props\":{\"data\":{\"value\":{\"cx\":0,\"cy\":0}}},\"status\":{\"level\":\"ok\",\"text\":\"Ok\"},\"x\":62,\"y\":56,\"ports\":[{\"pos\":3.5}]},{\"name\":\"initState\",\"type\":\"Param\",\"props\":{\"data\":{\"value\":{\"x\":0,\"y\":0}}},\"status\":{\"level\":\"ok\",\"text\":\"Ok\"},\"x\":277,\"y\":116,\"ports\":[{\"pos\":3.272322969397147}]},{\"name\":\"solver\",\"type\":\"FdeIterator\",\"props\":{},\"status\":{\"level\":\"ok\",\"text\":\"Ok\"},\"x\":313,\"y\":259,\"ports\":[{\"pos\":1.2772612003381234},{\"pos\":1.6373626373626373},{\"pos\":2.7},{\"pos\":0.5},{\"pos\":3.7},{\"pos\":2.3},{\"pos\":3.3}]},{\"name\":\"solverParam\",\"type\":\"Param\",\"props\":{\"data\":{\"value\":{\"n\":\"100\",\"nskip\":\"0\",\"nout\":\"0\"}}},\"status\":{\"level\":\"ok\",\"text\":\"Ok\"},\"x\":326,\"y\":184,\"ports\":[{\"pos\":3.38146735259507}]},{\"name\":\"canvas\",\"type\":\"Canvas\",\"props\":{\"param\":{\"value\":{\"x\":{\"vmin\":\"-0.5\",\"vmax\":\"2\",\"resolution\":501},\"y\":{\"vmin\":\"-1.25\",\"vmax\":\"1.25\",\"resolution\":501}}},\"refreshInterval\":{\"value\":1000},\"timeCheckCount\":{\"value\":100},\"clearOnRestart\":{\"value\":false}},\"status\":{\"level\":\"ok\",\"text\":\"Ok\"},\"x\":52,\"y\":456,\"ports\":[{\"pos\":1.253125},{\"pos\":1.7},{\"pos\":0.5},{\"pos\":2.5},{\"pos\":3.505866114561767}]},{\"name\":\"bitmap\",\"type\":\"Bitmap\",\"props\":{\"fileName\":{\"value\":\"result.png\"}},\"status\":{\"level\":\"ok\",\"text\":\"Ok\"},\"x\":55,\"y\":515,\"ports\":[{\"pos\":1.5}]},{\"name\":\"solverTrigger\",\"type\":\"Replicator\",\"props\":{},\"status\":{\"level\":\"ok\",\"text\":\"Ok\"},\"x\":170,\"y\":184,\"ports\":[{\"pos\":1.7},{\"pos\":1.3},{\"pos\":3.3},{\"pos\":3.7}]},{\"name\":\"paramGrid\",\"type\":\"GridGenerator\",\"props\":{\"param\":{\"value\":[{\"index\":0,\"vmin\":\"-0.5\",\"vmax\":\"2\",\"count\":500},{\"index\":1,\"vmin\":\"-1.25\",\"vmax\":\"1.25\",\"count\":500}]}},\"status\":{\"level\":\"ok\",\"text\":\"Ok\"},\"x\":62,\"y\":112,\"ports\":[{\"pos\":1.5},{\"pos\":2.536541889483066},{\"pos\":3.748348577235772},{\"pos\":3.1612135633551457}]},{\"name\":\"Scalarize 1\",\"type\":\"Scalarize\",\"props\":{\"param\":{\"value\":\"norm_2\"}},\"status\":{\"level\":\"ok\",\"text\":\"Ok\"},\"x\":314,\"y\":328,\"ports\":[{\"pos\":1.5},{\"pos\":3.5}]},{\"name\":\"threshold\",\"type\":\"ThresholdDetector\",\"props\":{\"param\":{\"value\":\"less\"},\"quiet\":{\"value\":false},\"thresholdValue\":{\"value\":\"2\"}},\"status\":{\"level\":\"ok\",\"text\":\"Ok\"},\"x\":325,\"y\":390,\"ports\":[{\"pos\":0.5811640635429182},{\"pos\":1.5297052809388336},{\"pos\":2.463913344544465}]},{\"name\":\"Valve 1\",\"type\":\"Valve\",\"props\":{},\"status\":{\"level\":\"ok\",\"text\":\"Ok\"},\"x\":103,\"y\":390,\"ports\":[{\"pos\":0.4869029275808937},{\"pos\":1.5},{\"pos\":3.5}]},{\"name\":\"range\",\"type\":\"RectInput\",\"props\":{\"initRect\":{\"value\":{\"xmin\":0,\"xmax\":1,\"ymin\":0,\"ymax\":1}},\"keepAspectRatio\":{\"value\":true},\"withActivator\":{\"value\":false},\"refBitmap\":{\"value\":\"result.png\"}},\"status\":{\"level\":\"ok\",\"text\":\"Ok\"},\"x\":19,\"y\":6,\"ports\":[{\"pos\":3.134831460674157}]},{\"name\":\"pause\",\"type\":\"Pause\",\"props\":{},\"status\":{\"level\":\"ok\",\"text\":\"Ok\"},\"x\":349,\"y\":515,\"ports\":[{\"pos\":1.5}]},{\"name\":\"splitInput\",\"type\":\"Split\",\"props\":{\"outputPortCount\":{\"value\":2}},\"status\":{\"level\":\"ok\",\"text\":\"Ok\"},\"x\":20,\"y\":185,\"ports\":[{\"pos\":1.9047619047619047},{\"pos\":3.284970238095238},{\"pos\":1.6261595547309833}]}],\"links\":[{\"source\":{\"box\":\"testFde\",\"port\":\"nextState\"},\"target\":{\"box\":\"solver\",\"port\":\"fdeIn\"}},{\"source\":{\"box\":\"solver\",\"port\":\"fdeOut\"},\"target\":{\"box\":\"testFde\",\"port\":\"state\"}},{\"source\":{\"box\":\"solver\",\"port\":\"parameters\"},\"target\":{\"box\":\"solverParam\",\"port\":\"output\"}},{\"source\":{\"box\":\"canvas\",\"port\":\"output\"},\"target\":{\"box\":\"bitmap\",\"port\":\"input\"}},{\"source\":{\"box\":\"testFde\",\"port\":\"parameters\"},\"target\":{\"box\":\"solverTrigger\",\"port\":\"control_out\"}},{\"source\":{\"box\":\"solverTrigger\",\"port\":\"value_in\"},\"target\":{\"box\":\"initState\",\"port\":\"output\"}},{\"source\":{\"box\":\"solverTrigger\",\"port\":\"value_out\"},\"target\":{\"box\":\"solver\",\"port\":\"initState\"}},{\"source\":{\"box\":\"paramGrid\",\"port\":\"input\"},\"target\":{\"box\":\"sdeParam\",\"port\":\"output\"}},{\"source\":{\"box\":\"paramGrid\",\"port\":\"output\"},\"target\":{\"box\":\"solverTrigger\",\"port\":\"control_in\"}},{\"source\":{\"box\":\"solver\",\"port\":\"nextState\"},\"target\":{\"box\":\"Scalarize 1\",\"port\":\"input\"}},{\"source\":{\"box\":\"threshold\",\"port\":\"input\"},\"target\":{\"box\":\"Scalarize 1\",\"port\":\"output\"}},{\"source\":{\"box\":\"Valve 1\",\"port\":\"valve\"},\"target\":{\"box\":\"threshold\",\"port\":\"output\"}},{\"source\":{\"box\":\"paramGrid\",\"port\":\"output\"},\"target\":{\"box\":\"Valve 1\",\"port\":\"input\"}},{\"source\":{\"box\":\"paramGrid\",\"port\":\"flush\"},\"target\":{\"box\":\"canvas\",\"port\":\"flush\"}},{\"source\":{\"box\":\"Valve 1\",\"port\":\"output\"},\"target\":{\"box\":\"canvas\",\"port\":\"input\"}},{\"source\":{\"box\":\"splitInput\",\"port\":\"out_1\"},\"target\":{\"box\":\"canvas\",\"port\":\"range\"}},{\"source\":{\"box\":\"splitInput\",\"port\":\"input\"},\"target\":{\"box\":\"range\",\"port\":\"output\"}},{\"source\":{\"box\":\"splitInput\",\"port\":\"out_2\"},\"target\":{\"box\":\"paramGrid\",\"port\":\"range\"}}]}"}