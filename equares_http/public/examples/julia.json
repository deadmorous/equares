{"name":"julia","description":"Julia set for quadratic polynomial","info":"# Julia set\nJulia set is the boundary of region of points $z_0$ on complex plane, such that the sequence\n$$\nz_n = P(z_{n-1}), \\quad n=1,2,\\ldots\n$$\nis limited, where P(z) is a polynomial.\n\nThis example performs calculation of inner region of the Julia set for $P(z)=c-z^2$. The parameter, complex number $c$, can be changed interactively by moving sliders. Notice, however, that a better way to specify $c$ is provided in [this example](/editor?sim=mandelbrot-and-julia)\n\nThe simulation scheme contains an ?[FDE iterator](/doc#box/FdeIterator) that performs up to 300 iterations for the initial point $z_0$ to determine if the sequence $z_n$ is limited or not. There are also two checks that detect divergence (boxes ```norm```, ```tdiv```) and convergence (boxes ```diff```, ```dnorm```, ```tconv```) of the iterations, so in most cases much less iterations are necessary.\n\nSee also the =[Mandelbrot set](/editor?sim=mandelbrot) example.\n","keywords":["fractal"],"script":"","public":true,"definition":"{\"boxes\":[{\"name\":\"f2\",\"type\":\"CxxFde\",\"props\":{\"src\":{\"value\":\"struct f2cplx {\\n    int paramCount() const {\\n        return 2;       // cx,cy\\n    }\\n    const char *paramNames() const {\\n        return \\\"cx,cy\\\"; // Can also return empty string or null ptr\\n    }\\n    int varCount() const {\\n        return 2;       // x,y\\n    }\\n    const char *varNames() const {\\n        return \\\"x,y\\\";   // Can also return empty string or null ptr\\n    }\\n\\n    // Auxiliary parameters\\n    double cx, cy;\\n    void prepare(const double *param) {\\n        cx = param[0];\\n        cy = param[1];\\n    }\\n\\n    void nextState(double *out, const double *param, const double *state) const {\\n        double x = state[0], y = state[1];\\n        out[0] = cx - x*x + y*y;\\n        out[1] = cy - 2*x*y;\\n    }\\n};\"},\"srcExample\":{\"value\":\"struct logistics {\\n    int paramCount() const {\\n        return 1;       // c\\n    }\\n    const char *paramNames() const {\\n        return \\\"c\\\";     // Can also return empty string or null ptr\\n    }\\n    int varCount() const {\\n        return 1;       // q\\n    }\\n    const char *varNames() const {\\n        return \\\"q\\\";     // Can also return empty string or null ptr\\n    }\\n\\n    // Auxiliary parameters\\n    double c;\\n    void prepare(const double *param) {\\n        c = param[0];\\n    }\\n\\n    void nextState(double *out, const double *param, const double *state) const {\\n        out[0] = c - state[0]*state[0];\\n    }\\n};\\n\"},\"useQmake\":{\"value\":true}},\"status\":{\"level\":\"ok\",\"text\":\"Ok\"},\"x\":75,\"y\":251,\"ports\":[{\"pos\":1.5},{\"pos\":0.7},{\"pos\":0.3}]},{\"name\":\"fde-par\",\"type\":\"Param\",\"props\":{\"data\":{\"value\":{\"cx\":\"0.76\",\"cy\":\"0.064\"}}},\"status\":{\"level\":\"ok\",\"text\":\"Ok\"},\"x\":26,\"y\":33,\"ports\":[{\"pos\":3.5}]},{\"name\":\"input\",\"type\":\"RangeInput\",\"props\":{\"param\":{\"value\":[{\"index\":0,\"name\":\"cx\",\"vmin\":\"-2\",\"vmax\":\"2\",\"resolution\":1000},{\"index\":1,\"name\":\"cy\",\"vmin\":\"-2\",\"vmax\":\"2\",\"resolution\":1000}]},\"restartOnInput\":{\"value\":false}},\"status\":{\"level\":\"ok\",\"text\":\"Ok\"},\"x\":50,\"y\":94,\"ports\":[{\"pos\":1.3},{\"pos\":1.7},{\"pos\":3.5}]},{\"name\":\"init\",\"type\":\"Param\",\"props\":{\"data\":{\"value\":{\"x\":0,\"y\":0}}},\"status\":{\"level\":\"ok\",\"text\":\"Ok\"},\"x\":141,\"y\":33,\"ports\":[{\"pos\":3.5}]},{\"name\":\"grid\",\"type\":\"GridGenerator\",\"props\":{\"param\":{\"value\":[{\"index\":0,\"vmin\":\"-2\",\"vmax\":\"2\",\"count\":500},{\"index\":1,\"vmin\":\"-2\",\"vmax\":\"2\",\"count\":500}]}},\"status\":{\"level\":\"ok\",\"text\":\"Ok\"},\"x\":536,\"y\":173,\"ports\":[{\"pos\":2.5100730294636113},{\"pos\":0.5},{\"pos\":3.068359375},{\"pos\":3.869873188405797}]},{\"name\":\"init-repl\",\"type\":\"Replicator\",\"props\":{},\"status\":{\"level\":\"ok\",\"text\":\"Ok\"},\"x\":75,\"y\":153,\"ports\":[{\"pos\":1.7},{\"pos\":1.0046788791474568},{\"pos\":3.302014983303064},{\"pos\":0.42914677991155875}]},{\"name\":\"solver\",\"type\":\"FdeIterator\",\"props\":{},\"status\":{\"level\":\"ok\",\"text\":\"Ok\"},\"x\":158,\"y\":251,\"ports\":[{\"pos\":1.7},{\"pos\":1.0179716117216118},{\"pos\":2.7},{\"pos\":0.5},{\"pos\":3.763679029304029},{\"pos\":2.3},{\"pos\":3.1111680327868854}]},{\"name\":\"sol-par\",\"type\":\"Param\",\"props\":{\"data\":{\"value\":{\"n\":\"300\",\"nskip\":\"2\",\"nout\":\"5\"}}},\"status\":{\"level\":\"ok\",\"text\":\"Ok\"},\"x\":137,\"y\":198,\"ports\":[{\"pos\":3.5}]},{\"name\":\"diff\",\"type\":\"Differentiate\",\"props\":{},\"status\":{\"level\":\"ok\",\"text\":\"Ok\"},\"x\":273,\"y\":310,\"ports\":[{\"pos\":1.5},{\"pos\":3.5}]},{\"name\":\"norm\",\"type\":\"Scalarize\",\"props\":{\"param\":{\"value\":\"norm_1\"}},\"status\":{\"level\":\"ok\",\"text\":\"Ok\"},\"x\":123,\"y\":400,\"ports\":[{\"pos\":1.5},{\"pos\":3.5}]},{\"name\":\"dnorm\",\"type\":\"Scalarize\",\"props\":{\"param\":{\"value\":\"norm_1\"}},\"status\":{\"level\":\"ok\",\"text\":\"Ok\"},\"x\":273,\"y\":360,\"ports\":[{\"pos\":1.6234472939917444},{\"pos\":3.5}]},{\"name\":\"tdiv\",\"type\":\"ThresholdDetector\",\"props\":{\"param\":{\"value\":\"greater_or_equal\"},\"quiet\":{\"value\":true},\"thresholdValue\":{\"value\":\"2\"}},\"status\":{\"level\":\"ok\",\"text\":\"Ok\"},\"x\":281,\"y\":490,\"ports\":[{\"pos\":2.432195518402415},{\"pos\":1.6158390410958905},{\"pos\":0.49021185304371145}]},{\"name\":\"tconv\",\"type\":\"ThresholdDetector\",\"props\":{\"param\":{\"value\":\"less\"},\"quiet\":{\"value\":true},\"thresholdValue\":{\"value\":\"1e-5\"}},\"status\":{\"level\":\"ok\",\"text\":\"Ok\"},\"x\":273,\"y\":410,\"ports\":[{\"pos\":3.532084773727216},{\"pos\":1.452122411305381},{\"pos\":0.49120688112674615}]},{\"name\":\"stop-merge\",\"type\":\"Merge\",\"props\":{\"inputPortCount\":{\"value\":2}},\"status\":{\"level\":\"ok\",\"text\":\"Ok\"},\"x\":388,\"y\":251,\"ports\":[{\"pos\":3.3228859823258197},{\"pos\":3.6210530598958335},{\"pos\":2.504145665067509}]},{\"name\":\"tout\",\"type\":\"ThresholdDetector\",\"props\":{\"param\":{\"value\":\"less\"},\"quiet\":{\"value\":false},\"thresholdValue\":{\"value\":\"2\"}},\"status\":{\"level\":\"ok\",\"text\":\"Ok\"},\"x\":97,\"y\":541,\"ports\":[{\"pos\":1.1293074324324324},{\"pos\":1.7281491312741313},{\"pos\":0.35710041592394537}]},{\"name\":\"norm-repl\",\"type\":\"Replicator\",\"props\":{},\"status\":{\"level\":\"ok\",\"text\":\"Ok\"},\"x\":36,\"y\":459,\"ports\":[{\"pos\":1.7},{\"pos\":1.3},{\"pos\":3.3},{\"pos\":3.7}]},{\"name\":\"vout\",\"type\":\"Valve\",\"props\":{},\"status\":{\"level\":\"ok\",\"text\":\"Ok\"},\"x\":484,\"y\":548,\"ports\":[{\"pos\":2.449604743083004},{\"pos\":1.2702939021140522},{\"pos\":0.5089404685149366}]},{\"name\":\"canvas\",\"type\":\"Canvas\",\"props\":{\"param\":{\"value\":{\"x\":{\"vmin\":\"-2\",\"vmax\":\"2\",\"resolution\":501},\"y\":{\"vmin\":\"-2\",\"vmax\":\"2\",\"resolution\":501}}},\"refreshInterval\":{\"value\":1000},\"timeCheckCount\":{\"value\":100},\"clearOnRestart\":{\"value\":true}},\"status\":{\"level\":\"ok\",\"text\":\"Ok\"},\"x\":585,\"y\":548,\"ports\":[{\"pos\":2.4823139277818718},{\"pos\":1.833696380697051},{\"pos\":0.5103314679294016},{\"pos\":3.5},{\"pos\":3.5}]},{\"name\":\"bitmap\",\"type\":\"Bitmap\",\"props\":{\"fileName\":{\"value\":\"julia.png\"}},\"status\":{\"level\":\"ok\",\"text\":\"Ok\"},\"x\":586,\"y\":608,\"ports\":[{\"pos\":1.4945452443535825}]},{\"name\":\"pause\",\"type\":\"Pause\",\"props\":{},\"status\":{\"level\":\"ok\",\"text\":\"Ok\"},\"x\":304,\"y\":608,\"ports\":[{\"pos\":1.5}]}],\"links\":[{\"source\":{\"box\":\"fde-par\",\"port\":\"output\"},\"target\":{\"box\":\"input\",\"port\":\"input\"}},{\"source\":{\"box\":\"input\",\"port\":\"output\"},\"target\":{\"box\":\"init-repl\",\"port\":\"control_in\"}},{\"source\":{\"box\":\"init-repl\",\"port\":\"control_out\"},\"target\":{\"box\":\"f2\",\"port\":\"parameters\"}},{\"source\":{\"box\":\"init\",\"port\":\"output\"},\"target\":{\"box\":\"init-repl\",\"port\":\"value_in\"}},{\"source\":{\"box\":\"init-repl\",\"port\":\"value_out\"},\"target\":{\"box\":\"grid\",\"port\":\"input\"}},{\"source\":{\"box\":\"f2\",\"port\":\"state\"},\"target\":{\"box\":\"solver\",\"port\":\"fdeOut\"}},{\"source\":{\"box\":\"solver\",\"port\":\"fdeIn\"},\"target\":{\"box\":\"f2\",\"port\":\"nextState\"}},{\"source\":{\"box\":\"solver\",\"port\":\"parameters\"},\"target\":{\"box\":\"sol-par\",\"port\":\"output\"}},{\"source\":{\"box\":\"solver\",\"port\":\"initState\"},\"target\":{\"box\":\"grid\",\"port\":\"output\"}},{\"source\":{\"box\":\"solver\",\"port\":\"nextState\"},\"target\":{\"box\":\"norm\",\"port\":\"input\"}},{\"source\":{\"box\":\"solver\",\"port\":\"nextState\"},\"target\":{\"box\":\"diff\",\"port\":\"input\"}},{\"source\":{\"box\":\"diff\",\"port\":\"output\"},\"target\":{\"box\":\"dnorm\",\"port\":\"input\"}},{\"source\":{\"box\":\"norm\",\"port\":\"output\"},\"target\":{\"box\":\"tdiv\",\"port\":\"input\"}},{\"source\":{\"box\":\"dnorm\",\"port\":\"output\"},\"target\":{\"box\":\"tconv\",\"port\":\"input\"}},{\"source\":{\"box\":\"norm-repl\",\"port\":\"control_in\"},\"target\":{\"box\":\"solver\",\"port\":\"finish\"}},{\"source\":{\"box\":\"norm\",\"port\":\"output\"},\"target\":{\"box\":\"norm-repl\",\"port\":\"value_in\"}},{\"source\":{\"box\":\"tout\",\"port\":\"input\"},\"target\":{\"box\":\"norm-repl\",\"port\":\"value_out\"}},{\"source\":{\"box\":\"tout\",\"port\":\"output\"},\"target\":{\"box\":\"vout\",\"port\":\"valve\"}},{\"source\":{\"box\":\"grid\",\"port\":\"output\"},\"target\":{\"box\":\"vout\",\"port\":\"input\"}},{\"source\":{\"box\":\"canvas\",\"port\":\"input\"},\"target\":{\"box\":\"vout\",\"port\":\"output\"}},{\"source\":{\"box\":\"canvas\",\"port\":\"output\"},\"target\":{\"box\":\"bitmap\",\"port\":\"input\"}},{\"source\":{\"box\":\"stop-merge\",\"port\":\"output\"},\"target\":{\"box\":\"solver\",\"port\":\"stop\"}},{\"source\":{\"box\":\"stop-merge\",\"port\":\"in_1\"},\"target\":{\"box\":\"tconv\",\"port\":\"output\"}},{\"source\":{\"box\":\"stop-merge\",\"port\":\"in_2\"},\"target\":{\"box\":\"tdiv\",\"port\":\"output\"}},{\"source\":{\"box\":\"grid\",\"port\":\"flush\"},\"target\":{\"box\":\"canvas\",\"port\":\"flush\"}}]}"}