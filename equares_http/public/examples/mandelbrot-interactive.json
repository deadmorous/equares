{"name":"mandelbrot-interactive","description":"Mandelbrot set (interactive)","info":"# Mandelbrot set (interactive)\nThe Mandelbrot set is the set of points $c$ on complex plane for which the sequence (formula similar to the =[logistic mapping](/editor?sim=logistic-mapping-chaos))\n$$\nz_{n+1} = c-z_n^2, \\quad n=1,2,\\ldots\n$$\nis limited for $z_0=0$.\n\nThe simulation scheme contains an ?[FDE iterator](/doc#box/FdeIterator) that performs up to 500 iterations for the initial point $z_0$ to determine if the sequence $z_n$ is limited or not. There are also two checks that detect divergence (boxes ```norm```, ```tdiv```) and convergence (boxes ```d```, ```dn```, ```tdn```) of the iterations, so in most cases much less iterations are necessary.\n\nUser can zoom image by rotating mouse wheel and pan it by dragging with left mouse button pressed.","keywords":[],"script":"","public":true,"definition":"{\"boxes\":[{\"name\":\"testFde\",\"type\":\"CxxFde\",\"props\":{\"src\":{\"value\":\"struct logistics {\\n    int paramCount() const {\\n        return 2;       // cx,cy\\n    }\\n    const char *paramNames() const {\\n        return \\\"cx,cy\\\"; // Can also return empty string or null ptr\\n    }\\n    int varCount() const {\\n        return 2;       // x,y\\n    }\\n    const char *varNames() const {\\n        return \\\"x,y\\\";   // Can also return empty string or null ptr\\n    }\\n\\n    // Auxiliary parameters\\n    double cx, cy;\\n    void prepare(const double *param) {\\n        cx = param[0];\\n        cy = param[1];\\n    }\\n\\n    void nextState(double *out, const double *param, const double *state) const {\\n        double x = state[0], y = state[1];\\n        out[0] = cx - x*x + y*y;\\n        out[1] = cy - 2*x*y;\\n    }\\n};\"},\"srcExample\":{\"value\":\"struct logistics {\\n    int paramCount() const {\\n        return 1;       // c\\n    }\\n    const char *paramNames() const {\\n        return \\\"c\\\";     // Can also return empty string or null ptr\\n    }\\n    int varCount() const {\\n        return 1;       // x\\n    }\\n    const char *varNames() const {\\n        return \\\"x\\\";     // Can also return empty string or null ptr\\n    }\\n\\n    // Auxiliary parameters\\n    double c;\\n    void prepare(const double *param) {\\n        c = param[0];\\n    }\\n\\n    void nextState(double *out, const double *param, const double *state) const {\\n        out[0] = c - state[0]*state[0];\\n    }\\n};\\n\"},\"useQmake\":{\"value\":true}},\"status\":{\"level\":\"ok\",\"text\":\"Ok\"},\"x\":217,\"y\":239,\"ports\":[{\"pos\":1.5308396300156333},{\"pos\":0.7},{\"pos\":0.3}]},{\"name\":\"sdeParam\",\"type\":\"Param\",\"props\":{\"data\":{\"value\":{\"cx\":0,\"cy\":0}}},\"status\":{\"level\":\"ok\",\"text\":\"Ok\"},\"x\":151,\"y\":63,\"ports\":[{\"pos\":3.5}]},{\"name\":\"initState\",\"type\":\"Param\",\"props\":{\"data\":{\"value\":{\"x\":0,\"y\":0}}},\"status\":{\"level\":\"ok\",\"text\":\"Ok\"},\"x\":295,\"y\":125,\"ports\":[{\"pos\":3.38544474393531}]},{\"name\":\"solver\",\"type\":\"FdeIterator\",\"props\":{},\"status\":{\"level\":\"ok\",\"text\":\"Ok\"},\"x\":352,\"y\":239,\"ports\":[{\"pos\":1.149099784144427},{\"pos\":1.8241758241758241},{\"pos\":2.7},{\"pos\":0.5},{\"pos\":3.7646520146520146},{\"pos\":2.3},{\"pos\":3.3}]},{\"name\":\"solverParam\",\"type\":\"Param\",\"props\":{\"data\":{\"value\":{\"n\":\"500\",\"nskip\":\"2\",\"nout\":\"4\"}}},\"status\":{\"level\":\"ok\",\"text\":\"Ok\"},\"x\":411,\"y\":125,\"ports\":[{\"pos\":3.1392979019211324}]},{\"name\":\"canvas\",\"type\":\"Canvas\",\"props\":{\"param\":{\"value\":{\"x\":{\"vmin\":\"-0.5\",\"vmax\":\"2\",\"resolution\":501},\"y\":{\"vmin\":\"-1.25\",\"vmax\":\"1.25\",\"resolution\":501}}},\"refreshInterval\":{\"value\":1000},\"timeCheckCount\":{\"value\":100},\"clearOnRestart\":{\"value\":false}},\"status\":{\"level\":\"ok\",\"text\":\"Ok\"},\"x\":92,\"y\":401,\"ports\":[{\"pos\":1.0606060606060606},{\"pos\":1.3296780303030302},{\"pos\":0.5},{\"pos\":1.8974934530490086},{\"pos\":3.505866114561767}]},{\"name\":\"bitmap\",\"type\":\"Bitmap\",\"props\":{\"fileName\":{\"value\":\"result.png\"}},\"status\":{\"level\":\"ok\",\"text\":\"Ok\"},\"x\":93,\"y\":474,\"ports\":[{\"pos\":1.4882518997609289}]},{\"name\":\"solverTrigger\",\"type\":\"Replicator\",\"props\":{},\"status\":{\"level\":\"ok\",\"text\":\"Ok\"},\"x\":238,\"y\":184,\"ports\":[{\"pos\":1.9948356807511738},{\"pos\":1.3134077904929577},{\"pos\":3.1862554638173872},{\"pos\":3.919014084507042}]},{\"name\":\"paramGrid\",\"type\":\"GridGenerator\",\"props\":{\"param\":{\"value\":[{\"index\":0,\"vmin\":\"-0.5\",\"vmax\":\"2\",\"count\":500},{\"index\":1,\"vmin\":\"-1.25\",\"vmax\":\"1.25\",\"count\":500}]}},\"status\":{\"level\":\"ok\",\"text\":\"Ok\"},\"x\":150,\"y\":125,\"ports\":[{\"pos\":1.5},{\"pos\":2.536541889483066},{\"pos\":3.318828941637631},{\"pos\":3.0661698283649503}]},{\"name\":\"norm\",\"type\":\"Scalarize\",\"props\":{\"param\":{\"value\":\"norm_1\"}},\"status\":{\"level\":\"ok\",\"text\":\"Ok\"},\"x\":313,\"y\":387,\"ports\":[{\"pos\":1.5},{\"pos\":3.5}]},{\"name\":\"tout\",\"type\":\"ThresholdDetector\",\"props\":{\"param\":{\"value\":\"less\"},\"quiet\":{\"value\":false},\"thresholdValue\":{\"value\":\"3\"}},\"status\":{\"level\":\"ok\",\"text\":\"Ok\"},\"x\":224,\"y\":519,\"ports\":[{\"pos\":0.5811640635429182},{\"pos\":1.2642471655978011},{\"pos\":2.314203730272597}]},{\"name\":\"Valve 1\",\"type\":\"Valve\",\"props\":{},\"status\":{\"level\":\"ok\",\"text\":\"Ok\"},\"x\":170,\"y\":293,\"ports\":[{\"pos\":3.528701241134752},{\"pos\":1.8125},{\"pos\":3.1461588541666665}]},{\"name\":\"range\",\"type\":\"RectInput\",\"props\":{\"initRect\":{\"value\":{\"xmin\":\"-0.5\",\"xmax\":\"2\",\"ymin\":\"-1.25\",\"ymax\":\"1.25\"}},\"keepAspectRatio\":{\"value\":true},\"withActivator\":{\"value\":false},\"refBitmap\":{\"value\":\"result.png\"}},\"status\":{\"level\":\"ok\",\"text\":\"Ok\"},\"x\":49,\"y\":63,\"ports\":[{\"pos\":3.134831460674157}]},{\"name\":\"pause\",\"type\":\"Pause\",\"props\":{},\"status\":{\"level\":\"ok\",\"text\":\"Ok\"},\"x\":538,\"y\":483,\"ports\":[{\"pos\":1.5}]},{\"name\":\"splitInput\",\"type\":\"Split\",\"props\":{\"outputPortCount\":{\"value\":2}},\"status\":{\"level\":\"ok\",\"text\":\"Ok\"},\"x\":8,\"y\":125,\"ports\":[{\"pos\":1.5267857142857144},{\"pos\":3.842146487736661},{\"pos\":0.4634240927460505}]},{\"name\":\"nrepl\",\"type\":\"Replicator\",\"props\":{},\"status\":{\"level\":\"ok\",\"text\":\"Ok\"},\"x\":244,\"y\":453,\"ports\":[{\"pos\":1.7},{\"pos\":1.1096938775510203},{\"pos\":2.5588235294117645},{\"pos\":3.4100529100529102}]},{\"name\":\"tdiv\",\"type\":\"ThresholdDetector\",\"props\":{\"param\":{\"value\":\"greater\"},\"quiet\":{\"value\":true},\"thresholdValue\":{\"value\":\"3\"}},\"status\":{\"level\":\"ok\",\"text\":\"Ok\"},\"x\":399,\"y\":485,\"ports\":[{\"pos\":3.260654490106545},{\"pos\":1.9584760273972601},{\"pos\":0.47874199184624344}]},{\"name\":\"mstop\",\"type\":\"Merge\",\"props\":{\"inputPortCount\":{\"value\":2}},\"status\":{\"level\":\"ok\",\"text\":\"Ok\"},\"x\":542,\"y\":240,\"ports\":[{\"pos\":3.6625966625966626},{\"pos\":3.3176347462061746},{\"pos\":2.473812243136056}]},{\"name\":\"d\",\"type\":\"Differentiate\",\"props\":{},\"status\":{\"level\":\"ok\",\"text\":\"Ok\"},\"x\":418,\"y\":305,\"ports\":[{\"pos\":1.5},{\"pos\":3.5}]},{\"name\":\"dn\",\"type\":\"Scalarize\",\"props\":{\"param\":{\"value\":\"norm_1\"}},\"status\":{\"level\":\"ok\",\"text\":\"Ok\"},\"x\":413,\"y\":366,\"ports\":[{\"pos\":1.4892456843020367},{\"pos\":3.5}]},{\"name\":\"tdn\",\"type\":\"ThresholdDetector\",\"props\":{\"param\":{\"value\":\"less\"},\"quiet\":{\"value\":true},\"thresholdValue\":{\"value\":\"1e-5\"}},\"status\":{\"level\":\"ok\",\"text\":\"Ok\"},\"x\":416,\"y\":427,\"ports\":[{\"pos\":2.3198529411764706},{\"pos\":1.5607142857142857},{\"pos\":1.0901785714285714}]}],\"links\":[{\"source\":{\"box\":\"testFde\",\"port\":\"nextState\"},\"target\":{\"box\":\"solver\",\"port\":\"fdeIn\"}},{\"source\":{\"box\":\"solver\",\"port\":\"fdeOut\"},\"target\":{\"box\":\"testFde\",\"port\":\"state\"}},{\"source\":{\"box\":\"solver\",\"port\":\"parameters\"},\"target\":{\"box\":\"solverParam\",\"port\":\"output\"}},{\"source\":{\"box\":\"canvas\",\"port\":\"output\"},\"target\":{\"box\":\"bitmap\",\"port\":\"input\"}},{\"source\":{\"box\":\"testFde\",\"port\":\"parameters\"},\"target\":{\"box\":\"solverTrigger\",\"port\":\"control_out\"}},{\"source\":{\"box\":\"solverTrigger\",\"port\":\"value_in\"},\"target\":{\"box\":\"initState\",\"port\":\"output\"}},{\"source\":{\"box\":\"solverTrigger\",\"port\":\"value_out\"},\"target\":{\"box\":\"solver\",\"port\":\"initState\"}},{\"source\":{\"box\":\"paramGrid\",\"port\":\"input\"},\"target\":{\"box\":\"sdeParam\",\"port\":\"output\"}},{\"source\":{\"box\":\"paramGrid\",\"port\":\"output\"},\"target\":{\"box\":\"solverTrigger\",\"port\":\"control_in\"}},{\"source\":{\"box\":\"solver\",\"port\":\"nextState\"},\"target\":{\"box\":\"norm\",\"port\":\"input\"}},{\"source\":{\"box\":\"Valve 1\",\"port\":\"valve\"},\"target\":{\"box\":\"tout\",\"port\":\"output\"}},{\"source\":{\"box\":\"paramGrid\",\"port\":\"output\"},\"target\":{\"box\":\"Valve 1\",\"port\":\"input\"}},{\"source\":{\"box\":\"paramGrid\",\"port\":\"flush\"},\"target\":{\"box\":\"canvas\",\"port\":\"flush\"}},{\"source\":{\"box\":\"Valve 1\",\"port\":\"output\"},\"target\":{\"box\":\"canvas\",\"port\":\"input\"}},{\"source\":{\"box\":\"splitInput\",\"port\":\"out_1\"},\"target\":{\"box\":\"canvas\",\"port\":\"range\"}},{\"source\":{\"box\":\"splitInput\",\"port\":\"input\"},\"target\":{\"box\":\"range\",\"port\":\"output\"}},{\"source\":{\"box\":\"splitInput\",\"port\":\"out_2\"},\"target\":{\"box\":\"paramGrid\",\"port\":\"range\"}},{\"source\":{\"box\":\"solver\",\"port\":\"finish\"},\"target\":{\"box\":\"nrepl\",\"port\":\"control_in\"}},{\"source\":{\"box\":\"norm\",\"port\":\"output\"},\"target\":{\"box\":\"nrepl\",\"port\":\"value_in\"}},{\"source\":{\"box\":\"nrepl\",\"port\":\"value_out\"},\"target\":{\"box\":\"tout\",\"port\":\"input\"}},{\"source\":{\"box\":\"norm\",\"port\":\"output\"},\"target\":{\"box\":\"tdiv\",\"port\":\"input\"}},{\"source\":{\"box\":\"mstop\",\"port\":\"output\"},\"target\":{\"box\":\"solver\",\"port\":\"stop\"}},{\"source\":{\"box\":\"solver\",\"port\":\"nextState\"},\"target\":{\"box\":\"d\",\"port\":\"input\"}},{\"source\":{\"box\":\"d\",\"port\":\"output\"},\"target\":{\"box\":\"dn\",\"port\":\"input\"}},{\"source\":{\"box\":\"tdn\",\"port\":\"input\"},\"target\":{\"box\":\"dn\",\"port\":\"output\"}},{\"source\":{\"box\":\"tdiv\",\"port\":\"output\"},\"target\":{\"box\":\"mstop\",\"port\":\"in_1\"}},{\"source\":{\"box\":\"tdn\",\"port\":\"output\"},\"target\":{\"box\":\"mstop\",\"port\":\"in_2\"}}]}"}